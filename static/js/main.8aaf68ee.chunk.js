(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{123:function(e,t,n){},125:function(e,t,n){},126:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(32),r=n.n(s),l=(n(92),n(69)),o=n(70),j=n(52),i=n(14),d=n(13),b=n(7),u=n(140),h=n(66),O=n(31),x=n(138),m=n(132),f=n(10),v=n.n(f),g=n(0),p=function(e){var t=e.event;return Object(g.jsx)("div",{children:Object(g.jsxs)("h1",{children:["Edit ",t]})})},S="https://18.224.63.50/api/",C=function(){var e=Object(d.g)(),t=c.a.useState([]),n=Object(b.a)(t,2),a=n[0],s=n[1],r=c.a.useState(!1),o=Object(b.a)(r,2),u=o[0],f=o[1],p=c.a.useState(null),C=Object(b.a)(p,2),y=C[0],k=C[1],N=c.a.useState(null),E=Object(b.a)(N,2),T=E[0],D=E[1],q=function(){f(!1)};c.a.useEffect((function(){v.a.get("".concat(S,"events"),{params:{eventType:"past"}}).then((function(e){for(var t=[],n=0;n<e.data.length;n++){var a={name:e.data[n][1],startDate:e.data[n][2],endDate:e.data[n][3],eventDate:e.data[n][4],startTime:e.data[n][5],endTime:e.data[n][6]};t.push(a)}s(t)}))}),[]);return Object(g.jsxs)(l.a,{children:[Object(g.jsxs)(x.a,{show:u,onHide:function(){return q()},children:[Object(g.jsx)(x.a.Header,{closeButton:!0,children:Object(g.jsx)(x.a.Title,{children:"Confirm to Remove Event?"})}),Object(g.jsx)(x.a.Body,{children:"You are unable to undo this action."}),Object(g.jsxs)(x.a.Footer,{children:[Object(g.jsx)(h.a,{variant:"secondary",onClick:function(){return q()},children:"Close"}),Object(g.jsx)(h.a,{variant:"danger",onClick:function(){return function(){f(!1);var e={eventName:y};console.log(e),v.a.delete("".concat(S,"events"),{data:e}).then((function(e){return console.log(e)})).catch((function(e){e.request&&console.log(e.request),e.response&&console.log(e.response)}));var t=a;t.splice(T,1),s(Object(O.a)(t))}()},children:"Remove"})]})]}),Object(g.jsxs)(m.a,{striped:!0,bordered:!0,hover:!0,children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"#"}),Object(g.jsx)("th",{children:"Name of Event"}),Object(g.jsx)("th",{children:"Start Date"}),Object(g.jsx)("th",{children:"End Date"}),Object(g.jsx)("th",{children:"Date of Event"}),Object(g.jsx)("th",{children:"Start Time"}),Object(g.jsx)("th",{children:"End Time"}),Object(g.jsx)("th",{children:"Remove Event"})]})}),Object(g.jsx)("tbody",{children:a.map((function(e,t){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:t+1}),Object(g.jsx)(j.a,{children:Object(g.jsx)(j.a.Link,{as:i.b,to:"".concat(e.name),children:e.name})}),Object(g.jsx)("td",{children:e.startDate}),Object(g.jsx)("td",{children:e.endDate}),Object(g.jsx)("td",{children:e.eventDate}),Object(g.jsx)("td",{children:e.startTime}),Object(g.jsx)("td",{children:e.endTime}),Object(g.jsx)("td",{children:Object(g.jsx)(h.a,{onClick:function(){return function(e,t){f(!0),k(t),D(e)}(t,e.name)},variant:"danger",children:"Remove"})})]},t)}))})]}),Object(g.jsx)(d.c,{children:a.map((function(t,n){d.a,"".concat(e.url,"/").concat(t.name)}))})]})},y=function(){var e=Object(d.f)(),t=(Object(d.g)(),c.a.useState([])),n=Object(b.a)(t,2),a=n[0],s=n[1],r=c.a.useState(!1),o=Object(b.a)(r,2),u=o[0],f=o[1],p=c.a.useState(null),C=Object(b.a)(p,2),y=C[0],k=C[1],N=c.a.useState(null),E=Object(b.a)(N,2),T=E[0],D=E[1],q=function(){f(!1)};c.a.useEffect((function(){v.a.get("".concat(S,"events"),{params:{eventType:"current"}}).then((function(e){for(var t=[],n=0;n<e.data.length;n++){var a={name:e.data[n][1],startDate:e.data[n][2],endDate:e.data[n][3],eventDate:e.data[n][4],startTime:e.data[n][5],endTime:e.data[n][6]};t.push(a)}s(t)})).catch((function(e){e.request&&console.log(e.request),e.response&&console.log(e.response)}))}),[]);return Object(g.jsxs)(l.a,{children:[Object(g.jsxs)(x.a,{show:u,onHide:function(){return q()},children:[Object(g.jsx)(x.a.Header,{closeButton:!0,children:Object(g.jsx)(x.a.Title,{children:"Confirm to Remove Event?"})}),Object(g.jsx)(x.a.Body,{children:"You are unable to undo this action."}),Object(g.jsxs)(x.a.Footer,{children:[Object(g.jsx)(h.a,{variant:"secondary",onClick:function(){return q()},children:"Close"}),Object(g.jsx)(h.a,{variant:"danger",onClick:function(){return function(){f(!1);var e={eventName:y};console.log(e),v.a.delete("".concat(S,"events"),{data:e}).then((function(e){return console.log(e)})).catch((function(e){e.request&&console.log(e.request),e.response&&console.log(e.response)}));var t=a;t.splice(T,1),s(Object(O.a)(t))}()},children:"Remove"})]})]}),Object(g.jsxs)(m.a,{striped:!0,bordered:!0,hover:!0,children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"#"}),Object(g.jsx)("th",{children:"Name of Event"}),Object(g.jsx)("th",{children:"Start Date"}),Object(g.jsx)("th",{children:"End Date"}),Object(g.jsx)("th",{children:"Date of Event"}),Object(g.jsx)("th",{children:"Start Time"}),Object(g.jsx)("th",{children:"End Time"}),Object(g.jsx)("th",{children:"Remove Event"}),Object(g.jsx)("th",{children:"User Database"})]})}),Object(g.jsx)("tbody",{children:a.map((function(t,n){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:n+1}),Object(g.jsx)(j.a,{children:Object(g.jsx)(j.a.Link,{as:i.b,to:"".concat(t.name),children:t.name})}),Object(g.jsx)("td",{children:t.startDate}),Object(g.jsx)("td",{children:t.endDate}),Object(g.jsx)("td",{children:t.eventDate}),Object(g.jsx)("td",{children:t.startTime}),Object(g.jsx)("td",{children:t.endTime}),Object(g.jsx)("td",{children:Object(g.jsx)(h.a,{onClick:function(){return function(e,t){f(!0),k(t),D(e)}(n,t.name)},variant:"danger",children:"Remove"})}),Object(g.jsx)("td",{children:Object(g.jsx)(h.a,{onClick:function(){return n=t.name,void e.push("/events/users-".concat(n));var n},variant:"warning",children:"Manage"})})]},n)}))})]})]})},k=function(){var e=Object(d.g)(),t=c.a.useState([]),n=Object(b.a)(t,2),a=n[0],s=n[1],r=c.a.useState(!1),o=Object(b.a)(r,2),u=o[0],f=o[1],p=c.a.useState(null),C=Object(b.a)(p,2),y=C[0],k=C[1],N=c.a.useState(null),E=Object(b.a)(N,2),T=E[0],D=E[1],q=function(){f(!1)};c.a.useEffect((function(){v.a.get("".concat(S,"events"),{params:{eventType:"future"}}).then((function(e){for(var t=[],n=0;n<e.data.length;n++){var a={name:e.data[n][1],startDate:e.data[n][2],endDate:e.data[n][3],eventDate:e.data[n][4],startTime:e.data[n][5],endTime:e.data[n][6]};t.push(a)}s(t)}))}),[]);return Object(g.jsxs)(l.a,{children:[Object(g.jsxs)(x.a,{show:u,onHide:function(){return q()},children:[Object(g.jsx)(x.a.Header,{closeButton:!0,children:Object(g.jsx)(x.a.Title,{children:"Confirm to Remove Event?"})}),Object(g.jsx)(x.a.Body,{children:"You are unable to undo this action."}),Object(g.jsxs)(x.a.Footer,{children:[Object(g.jsx)(h.a,{variant:"secondary",onClick:function(){return q()},children:"Close"}),Object(g.jsx)(h.a,{variant:"danger",onClick:function(){return function(){f(!1);var e={eventName:y};v.a.delete("".concat(S,"events"),{data:e}).then((function(e){return console.log(e)})).catch((function(e){e.request&&console.log(e.request),e.response&&console.log(e.response)}));var t=a;t.splice(T,1),s(Object(O.a)(t))}()},children:"Remove"})]})]}),Object(g.jsxs)(m.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"#"}),Object(g.jsx)("th",{children:"Name of Event"}),Object(g.jsx)("th",{children:"Start Date"}),Object(g.jsx)("th",{children:"End Date"}),Object(g.jsx)("th",{children:"Date of Event"}),Object(g.jsx)("th",{children:"Start Time"}),Object(g.jsx)("th",{children:"End Time"}),Object(g.jsx)("th",{children:"Remove Event"})]})}),Object(g.jsx)("tbody",{children:a.map((function(e,t){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:t+1}),Object(g.jsx)(j.a,{children:Object(g.jsx)(j.a.Link,{as:i.b,to:"".concat(e.name),children:e.name})}),Object(g.jsx)("td",{children:e.startDate}),Object(g.jsx)("td",{children:e.endDate}),Object(g.jsx)("td",{children:e.eventDate}),Object(g.jsx)("td",{children:e.startTime}),Object(g.jsx)("td",{children:e.endTime}),Object(g.jsx)("td",{children:Object(g.jsx)(h.a,{onClick:function(){return function(e,t){f(!0),k(t),D(e)}(t,e.name)},variant:"danger",children:"Remove"})})]},t)}))})]}),Object(g.jsx)(d.c,{children:a.map((function(t,n){d.a,"".concat(e.url,"/").concat(t.name)}))})]})},N=n(134),E=n(2),T=n(139),D=n(133),q=n(84);function w(e){return"string"==typeof e&&(!isNaN(e)&&!isNaN(parseFloat(e)))}var _={form:{marginBottom:20},confirmButton:{marginLeft:30}},L=function(e){var t=e.event,n=c.a.useState([]),a=Object(b.a)(n,2),s=a[0],r=a[1],o=new Array(s.length).fill(0),j=c.a.useState(null),i=Object(b.a)(j,2),d=i[0],u=i[1],O=c.a.useState(o),x=Object(b.a)(O,2),f=x[0],p=x[1],C=c.a.useState(!1),y=Object(b.a)(C,2),k=y[0],N=y[1],L=c.a.useState(!1),R=Object(b.a)(L,2),B=R[0],F=R[1],I=c.a.useState(!1),H=Object(b.a)(I,2),P=H[0],U=H[1],W=c.a.useState(null),K=Object(b.a)(W,2),M=K[0],A=K[1],G=c.a.useState(null),Y=Object(b.a)(G,2),V=Y[0],J=Y[1],z=c.a.useState(null),Q=Object(b.a)(z,2),X=Q[0],Z=Q[1],$=c.a.useState(!1),ee=Object(b.a)($,2),te=ee[0],ne=ee[1],ae=c.a.useState([]),ce=Object(b.a)(ae,2),se=ce[0],re=ce[1],le=c.a.useState(!1),oe=Object(b.a)(le,2),je=oe[0],ie=(oe[1],c.a.useState(!1)),de=Object(b.a)(ie,2),be=de[0],ue=(de[1],je?{disabled:!0}:{}),he=be?{disabled:!0}:{};c.a.useEffect((function(){var e={eventName:t};v.a.get("".concat(S,"events/choices/exist"),{params:e}).then((function(e){if(e.data){var n={eventName:t};v.a.get("".concat(S,"events/choices"),{params:n}).then((function(e){A(e.data);var t=[];e.data.map((function(e){t.push("")})),J(t)})).catch((function(e){e.response?(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers)):e.request?console.log(e.request):console.log("Error",e.message)}))}})).catch((function(e){e.response?(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers)):e.request?console.log(e.request):console.log("Error",e.message)})),v.a.get("".concat(S,"users/event"),{params:e}).then((function(e){for(var t=[],n=0;n<e.data.length;n++)t.push({telegram_id:e.data[n][2],name:e.data[n][1],telegram_handle:e.data[n][3],item_chosen:e.data[n][5],collection_time:e.data[n][4]});r(t)})).catch((function(e){e.response?(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers)):e.request?console.log(e.request):console.log("Error",e.message)}))}),[]);var Oe=function(e){ne(!1),re([]);for(var t=[],n=0;n<s.length;n++)t.push(s[n]),t[n].selected=e[n];re(t),ne(!0)};return Object(g.jsxs)(l.a,{children:[Object(g.jsxs)("h3",{children:["Manage ",t]}),Object(g.jsxs)(T.a,{style:_.form,children:[Object(g.jsxs)(T.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)(T.a.Label,{children:"Number of People"}),Object(g.jsx)(T.a.Control,Object(E.a)({required:!0,value:d,onChange:function(e){return u(e.target.value)},placeholder:"e.g. 3"},ue)),Object(g.jsx)(T.a.Text,{className:"text-muted",children:"Key in no. of pax to receive giveaway"})]}),null!==M?M.map((function(e,t){return Object(g.jsxs)("div",{children:[Object(g.jsxs)(T.a.Label,{children:["No. of pax for ",e[2]]}),Object(g.jsx)(T.a.Control,Object(E.a)({required:!0,className:"mb-3",defaultValue:null===V?"":V[t],onChange:function(e){var n=V;n[t]=e.target.value,J(n)},placeholder:"e.g. 3"},ue))]})})):null,k?Object(g.jsx)(D.a,{variant:"danger",children:"Please key in valid inputs!"}):null]}),Object(g.jsx)(h.a,Object(E.a)(Object(E.a)({variant:"primary",onClick:function(){var e=!0;if(!1===w(d)&&(e=!1),V){var n=0;V.map((function(e,t){n+=parseInt(e)})),(n!=d||d>s.length||0==d)&&(e=!1),V.map((function(t){!1===w(t)&&(e=!1)}))}else(d>s.length||0==d)&&(e=!1);if(0==e)return N(!0);N(!1);var a={eventName:t,choicePax:V,totalPax:d};v.a.get("".concat(S,"users/shuffle"),{params:a}).then((function(e){for(var t=[],n=0;n<e.data.length;n++)t.push({telegram_id:e.data[n][2],name:e.data[n][1],telegram_handle:e.data[n][3],item_chosen:e.data[n][5],collection_time:e.data[n][4]});var a=[];for(n=0;n<s.length;n++)t.some((function(e){return e.telegram_id===s[n].telegram_id}))?a.push(1):a.push(0);p(a),Oe(a)})).catch((function(e){e.response?(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers)):e.request?console.log(e.request):console.log("Error",e.message)}))}},ue),{},{children:"Generate List Of Welfare Recipients"}))," ",Object(g.jsx)("span",{children:"\xa0\xa0"}),te&&Object(g.jsx)(q.CSVLink,{data:se,filename:t,disabled:!te,children:Object(g.jsx)(h.a,{variant:"warning",children:"Download Excel File"})})||Object(g.jsx)(h.a,{disabled:!te,variant:"secondary",children:"Download Excel File"})]}),Object(g.jsxs)(m.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"#"}),Object(g.jsx)("th",{children:"Names"}),Object(g.jsx)("th",{children:"Telegram Handle"}),Object(g.jsx)("th",{children:"Item Chosen"}),Object(g.jsx)("th",{children:"Collection Time"})]})}),Object(g.jsx)("tbody",{children:s.map((function(e,t){return Object(g.jsxs)("tr",{style:{backgroundColor:f[t]?"#52cca2":"#fff"},children:[Object(g.jsx)("td",{children:t+1}),Object(g.jsx)("td",{children:e.name}),Object(g.jsx)("td",{children:e.telegram_handle}),Object(g.jsx)("td",{children:e.item_chosen}),Object(g.jsx)("td",{children:e.collection_time})]},t)}))})]}),Object(g.jsx)(T.a,{children:Object(g.jsxs)(T.a.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1",children:[Object(g.jsx)(T.a.Label,{children:"Confirmation Message:"}),Object(g.jsx)(T.a.Control,{as:"textarea",rows:3,placeholder:"You have been selected! Please head down to the dining hall at your respective time slot to collect your welfare.",onChange:function(e){return Z(e.target.value)}})]})}),Object(g.jsxs)(h.a,Object(E.a)(Object(E.a)({onClick:function(){var e=0;if(f.map((function(t,n){e+=parseInt(t)})),0==e)return F(!0);F(!1);for(var t=0;t<f.length;t++){var n={chat_id:s[t].telegram_id,message:X},a={telegram_id:s[t].telegram_id};f[t]&&(v.a.post("".concat(S,"users/event"),n),v.a.post("".concat(S,"users/wincount"),a))}U(!0)}},he),{},{disabled:P,children:[" ","Send Welfare Message To Recipients"," "]})),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),B?Object(g.jsx)(D.a,{variant:"danger",children:"No user selected! Please generate list."}):null]})},R=function(){var e=Object(d.g)(),t=Object(d.f)(),n=c.a.useState([]),a=Object(b.a)(n,2),s=a[0],r=a[1],o=c.a.useState([]),O=Object(b.a)(o,2),x=O[0],m=O[1];return c.a.useEffect((function(){v.a.get("".concat(S,"events"),{params:{eventType:"all"}}).then((function(e){for(var t=[],n=0;n<e.data.length;n++)t.push(e.data[n][1]);r(t)})),v.a.get("".concat(S,"events"),{params:{eventType:"current"}}).then((function(e){for(var t=[],n=0;n<e.data.length;n++)t.push(e.data[n][1]);m(t)}))}),[]),Object(g.jsxs)(l.a,{children:[Object(g.jsxs)(u.a,{children:[Object(g.jsxs)(j.a,{variant:"tabs",defaultActiveKey:"link-0",children:[Object(g.jsx)(j.a.Item,{children:Object(g.jsx)(j.a.Link,{as:i.b,to:"".concat(e.url,"/past-events"),eventKey:"link-0",children:"Past Events"})}),Object(g.jsx)(j.a.Item,{children:Object(g.jsx)(j.a.Link,{as:i.b,to:"".concat(e.url,"/current-events"),eventKey:"link-1",children:"Current Events"})}),Object(g.jsx)(j.a.Item,{children:Object(g.jsx)(j.a.Link,{as:i.b,to:"".concat(e.url,"/future-events"),eventKey:"link-2",children:"Future Events"})})]}),Object(g.jsxs)(d.c,{children:[x.map((function(t,n){return Object(g.jsx)(d.a,{path:"".concat(e.url,"/users-").concat(t),children:Object(g.jsx)(L,{event:t})},n)})),s.map((function(t,n){return Object(g.jsx)(d.a,{path:"".concat(e.url,"/").concat(t),children:Object(g.jsx)(p,{event:t})},n)})),Object(g.jsx)(d.a,{path:"".concat(e.url,"/past-events"),children:Object(g.jsx)(C,{})}),Object(g.jsx)(d.a,{path:"".concat(e.url,"/current-events"),component:y}),Object(g.jsx)(d.a,{path:"".concat(e.url,"/future-events"),component:k})]})]}),Object(g.jsx)("br",{}),Object(g.jsxs)(h.a,{onClick:function(){t.push("/add-event")},children:[Object(g.jsx)(N.a,{}),"Add Event"]})]})},B=function(){var e=c.a.useState([]),t=Object(b.a)(e,2),n=t[0],a=t[1];return c.a.useEffect((function(){v.a.get("".concat(S,"feedbacks"),{params:{eventName:"general"}}).then((function(e){for(var t=[],n=0;n<e.data.length;n++)t.push({name:e.data[n][1],message:e.data[n][2]});a(t)})).catch((function(e){return console.log(e.response)}))}),[]),Object(g.jsx)(l.a,{children:Object(g.jsxs)(m.a,{striped:!0,bordered:!0,hover:!0,children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"#"}),Object(g.jsx)("th",{children:"User Name"}),Object(g.jsx)("th",{children:"Feedback Message"})]})}),Object(g.jsx)("tbody",{children:n.map((function(e,t){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:t+1}),Object(g.jsx)("td",{children:e.name}),Object(g.jsx)("td",{children:e.message})]},t)}))})]})})},F=n(137),I=function(){var e=c.a.useState([]),t=Object(b.a)(e,2),n=t[0],a=t[1],s=c.a.useState([]),r=Object(b.a)(s,2),o=r[0],j=r[1],i=c.a.useState(null),d=Object(b.a)(i,2),u=d[0],h=d[1];c.a.useEffect((function(){v.a.get("".concat(S,"events"),{params:{eventType:"past"}}).then((function(e){for(var t=[],n=0;n<e.data.length;n++)t.push(e.data[n][1]);j(t),h(t[0]);var c={eventName:t[0]};v.a.get("".concat(S,"feedbacks"),{params:c}).then((function(e){for(var t=[],n=0;n<e.data.length;n++)t.push({name:e.data[n][1],message:e.data[n][2]});a(t)})).catch((function(e){return console.log(e.response)}))}))}),[]);return Object(g.jsxs)(l.a,{children:[Object(g.jsxs)(F.a,{children:[Object(g.jsx)(F.a.Toggle,{id:"dropdown-basic",children:u}),Object(g.jsx)(F.a.Menu,{children:o.map((function(e,t){return Object(g.jsx)(F.a.Item,{onClick:function(){return function(e){var t={eventName:e};v.a.get("".concat(S,"feedbacks"),{params:t}).then((function(e){for(var t=[],n=0;n<e.data.length;n++)t.push({name:e.data[n][1],message:e.data[n][2]});a(t)})).catch((function(e){return console.log(e.response)})),h(e)}(e)},children:e},t)}))})]}),Object(g.jsxs)(m.a,{striped:!0,bordered:!0,hover:!0,children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"#"}),Object(g.jsx)("th",{children:"User Name"}),Object(g.jsx)("th",{children:"Feedback Message"})]})}),Object(g.jsx)("tbody",{children:n.map((function(e,t){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:t+1}),Object(g.jsx)("td",{children:e.name}),Object(g.jsx)("td",{children:e.message})]},t)}))})]})]})},H=function(){var e=Object(d.g)();return Object(g.jsxs)(l.a,{children:[Object(g.jsxs)(j.a,{justify:!0,variant:"tabs",defaultActiveKey:"link-0",children:[Object(g.jsx)(j.a.Item,{children:Object(g.jsx)(j.a.Link,{as:i.b,to:"".concat(e.url,"/general"),eventKey:"link-0",children:"General"})}),Object(g.jsx)(j.a.Item,{children:Object(g.jsx)(j.a.Link,{as:i.b,to:"".concat(e.url,"/events"),eventKey:"link-1",children:"Events"})})]}),Object(g.jsxs)(d.c,{children:[Object(g.jsx)(d.a,{path:"".concat(e.url,"/general"),component:B}),Object(g.jsx)(d.a,{path:"".concat(e.url,"/events"),component:I})]})]})},P=function(){return Object(g.jsx)("div",{children:Object(g.jsx)("h1",{children:"Home Screen"})})},U=function(){var e=c.a.useState([]),t=Object(b.a)(e,2),n=t[0],a=t[1],s=c.a.useState(null),r=Object(b.a)(s,2),o=r[0],j=r[1],i=c.a.useState(!1),d=Object(b.a)(i,2),u=d[0],f=d[1],p=c.a.useState(null),C=Object(b.a)(p,2),y=C[0],k=C[1];c.a.useEffect((function(){v.a.get("".concat(S,"users")).then((function(e){for(var t=[],n=0;n<e.data.length;n++)t.push({name:e.data[n][1],nusnet_id:e.data[n][2],house:e.data[n][3],telegram_id:e.data[n][4],telegram_handle:e.data[n][5],win_count:e.data[n][6]});a(t)})).catch((function(e){return console.log(e.response)}))}),[]);var N=function(){f(!1)};return Object(g.jsxs)(l.a,{children:[Object(g.jsxs)(x.a,{show:u,onHide:function(){return N()},children:[Object(g.jsx)(x.a.Header,{closeButton:!0,children:Object(g.jsx)(x.a.Title,{children:"Confirm to Remove Event?"})}),Object(g.jsx)(x.a.Body,{children:"You are unable to undo this action."}),Object(g.jsxs)(x.a.Footer,{children:[Object(g.jsx)(h.a,{variant:"secondary",onClick:function(){return N()},children:"Close"}),Object(g.jsx)(h.a,{variant:"danger",onClick:function(){return function(){f(!1);var e={telegram_id:o};v.a.delete("".concat(S,"users"),{data:e}).then((function(e){return console.log(e)})).catch((function(e){e.request&&console.log(e.request),e.response&&console.log(e.response)}));var t=n;t.splice(y,1),a(Object(O.a)(t))}()},children:"Remove"})]})]}),Object(g.jsxs)(m.a,{striped:!0,bordered:!0,hover:!0,children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"#"}),Object(g.jsx)("th",{children:"Name"}),Object(g.jsx)("th",{children:"NUSNET ID"}),Object(g.jsx)("th",{children:"House"}),Object(g.jsx)("th",{children:"Telegram Handle"}),Object(g.jsx)("th",{children:"Win Count"}),Object(g.jsx)("th",{children:"Delete User"})]})}),Object(g.jsx)("tbody",{children:n.map((function(e,t){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:t+1}),Object(g.jsx)("td",{children:e.name}),Object(g.jsx)("td",{children:e.nusnet_id}),Object(g.jsx)("td",{children:e.house}),Object(g.jsx)("td",{children:e.telegram_handle}),Object(g.jsx)("td",{children:e.win_count}),Object(g.jsx)("td",{children:Object(g.jsx)(h.a,{variant:"danger",onClick:function(){return function(e,t){f(!0),j(t),k(e)}(t,e.telegram_id)},children:"Remove"})})]},t)}))})]})]})},W=n(135),K=n(85),M=n(136),A=n(86),G=n(127),Y=function(){var e=c.a.useState(null),t=Object(b.a)(e,2),n=t[0],a=t[1],s=c.a.useState(null),r=Object(b.a)(s,2),o=r[0],j=r[1],i=c.a.useState(null),d=Object(b.a)(i,2),u=d[0],x=d[1],m=c.a.useState(null),f=Object(b.a)(m,2),p=f[0],C=f[1],y=c.a.useState(null),k=Object(b.a)(y,2),E=k[0],D=k[1],q=c.a.useState(null),w=Object(b.a)(q,2),_=w[0],L=w[1],R=c.a.useState(!1),B=Object(b.a)(R,2),F=B[0],I=B[1],H=c.a.useState([]),P=Object(b.a)(H,2),U=P[0],Y=P[1],V=c.a.useState(null),J=Object(b.a)(V,2),z=J[0],Q=(J[1],c.a.useState("")),X=Object(b.a)(Q,2),Z=X[0],$=X[1],ee=c.a.useState(""),te=Object(b.a)(ee,2),ne=te[0],ae=te[1],ce=c.a.useState(!1),se=Object(b.a)(ce,2),re=se[0],le=se[1],oe=c.a.useState(!1),je=Object(b.a)(oe,2),ie=je[0],de=je[1],be=c.a.useState(!1),ue=Object(b.a)(be,2),he=ue[0],Oe=ue[1],xe=c.a.useState(!1),me=Object(b.a)(xe,2),fe=me[0],ve=me[1];c.a.useEffect((function(){!0===F&&(!function(){var e={requestType:"add_event",eventName:n,startDate:o,endDate:u,collectionDate:p,startTime:E,endTime:_,message:z,question:Z,choiceArray:U};v.a.post("".concat(S,"events"),e).then((function(e){console.log(e),console.log(e.data)})).catch((function(e){console.log(e.response.data)}))}(),I(!1))}));var ge=c.a.useRef(!0);return c.a.useEffect((function(){ge.current?ge.current=!1:(o>u||u>=p?(ae(""),de(!0)):(ae("submit"),de(!1)),function(){if(null!=E&&null!=_&&E[3]&&E[4]&&_[3]&&_[4]){var e=parseInt(E[3].concat(E[4])),t=parseInt(_[3].concat(_[4]));E>=_||e%15!=0||t%15!=0?(ae(""),Oe(!0)):(ae("submit"),Oe(!1))}}())}),[o,u,p,E,_]),Object(g.jsx)(l.a,{children:Object(g.jsxs)(T.a,{onSubmit:function(e){null!==n&&null!==o&&null!==u&&null!==p&&null!==E&&null!==_&&I(!0)},children:[Object(g.jsx)("h2",{children:"Create an event"}),Object(g.jsx)("br",{}),Object(g.jsx)(T.a.Label,{htmlFor:"basic-url",children:"Event Name:"}),Object(g.jsx)(W.a,{className:"mb-3",children:Object(g.jsx)(K.a,{required:!0,placeholder:"e.g. Recess Week Welfare","aria-label":"Username","aria-describedby":"basic-addon1",onChange:function(e){a(e.target.value),function(e){e.includes("(")&&e.includes(")")?(ae(""),ve(!0)):(ae("submit"),ve(!1));var t={requestType:"check",eventName:e};v.a.post("".concat(S,"events"),t).then((function(e){e.data?(ae(""),le(!0)):(ae("submit"),le(!1))})).catch((function(e){console.log(e.response.data)}))}(e.target.value)}})}),Object(g.jsx)(M.a,{children:Object(g.jsx)(A.a,{xs:6,children:Object(g.jsx)(G.a,{bg:"danger",show:re,children:Object(g.jsxs)(G.a.Header,{closeButton:!1,children:[Object(g.jsx)("img",{src:"holder.js/20x20?text=%20",className:"rounded me-2",alt:""}),Object(g.jsx)("strong",{className:"me-auto",children:"Event name already exists! Please use different name."})]})})})}),Object(g.jsx)(M.a,{children:Object(g.jsx)(A.a,{xs:6,children:Object(g.jsx)(G.a,{bg:"danger",show:fe,children:Object(g.jsxs)(G.a.Header,{closeButton:!1,children:[Object(g.jsx)("img",{src:"holder.js/20x20?text=%20",className:"rounded me-2",alt:""}),Object(g.jsx)("strong",{className:"me-auto",children:"Event name invalid. Please do not include brackets in your name!"})]})})})}),Object(g.jsx)(T.a.Label,{htmlFor:"basic-url",children:"Sign Up Period:"}),Object(g.jsxs)(W.a,{className:"mb-3",children:[Object(g.jsx)(W.a.Text,{id:"basic-addon1",children:"Start Date"}),Object(g.jsx)(T.a.Control,{required:!0,type:"date",onChange:function(e){return j(e.target.value)}}),Object(g.jsx)(W.a.Text,{id:"basic-addon1",children:"End Date"}),Object(g.jsx)(T.a.Control,{required:!0,type:"date",onChange:function(e){return x(e.target.value)}})]}),Object(g.jsx)(T.a.Label,{htmlFor:"basic-url",children:"Collection Date:"}),Object(g.jsx)(W.a,{className:"mb-3",children:Object(g.jsx)(T.a.Control,{required:!0,type:"date",onChange:function(e){return C(e.target.value)}})}),Object(g.jsx)(M.a,{children:Object(g.jsx)(A.a,{xs:6,children:Object(g.jsx)(G.a,{bg:"danger",show:ie,children:Object(g.jsxs)(G.a.Header,{closeButton:!1,children:[Object(g.jsx)("img",{src:"holder.js/20x20?text=%20",className:"rounded me-2",alt:""}),Object(g.jsx)("strong",{className:"me-auto",children:"Please check order of dates!"})]})})})}),Object(g.jsx)(T.a.Label,{htmlFor:"basic-url",children:"Collection Time:"}),Object(g.jsxs)(W.a,{className:"mb-3",children:[Object(g.jsx)(W.a.Text,{id:"basic-addon1",children:"Start Time"}),Object(g.jsx)(T.a.Control,{required:!0,type:"time",onChange:function(e){D(e.target.value),console.log(e.target.value[3],e.target.value[4])}}),Object(g.jsx)(W.a.Text,{id:"basic-addon1",children:"End Time"}),Object(g.jsx)(T.a.Control,{required:!0,type:"time",onChange:function(e){return L(e.target.value)}})]}),Object(g.jsx)(M.a,{children:Object(g.jsx)(A.a,{xs:6,children:Object(g.jsx)(G.a,{bg:"danger",show:he,children:Object(g.jsxs)(G.a.Header,{closeButton:!1,children:[Object(g.jsx)("img",{src:"holder.js/20x20?text=%20",className:"rounded me-2",alt:""}),Object(g.jsx)("strong",{className:"me-auto",children:"Please check time inputs!"})]})})})}),Object(g.jsx)(A.a,{md:!0,children:Object(g.jsx)(W.a,{className:"mb-3",children:Object(g.jsx)(K.a,{placeholder:"e.g. What is your desired sugar level?","aria-label":"Username","aria-describedby":"basic-addon1",onChange:function(e){return $(e.target.value)}})})}),Object(g.jsx)(A.a,{md:!0,children:U.map((function(e,t){return Object(g.jsx)("div",{children:Object(g.jsxs)(W.a,{className:"mb-3",children:[Object(g.jsxs)(W.a.Text,{id:"basic-addon1",children:["Option ",t+1]}),Object(g.jsx)(K.a,{defaultControl:!0,defaultValue:e,placeholder:"e.g. 25% Sugar","aria-label":"Username","aria-describedby":"basic-addon1",onChange:function(e){var n=U;return n[t]=e.target.value,console.log(n),n}})]})})}))}),Object(g.jsxs)(h.a,{onClick:function(){return Y((function(e){return[].concat(Object(O.a)(e),[""])}))},children:[Object(g.jsx)(N.a,{}),"Add Option"]}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)(h.a,{variant:"primary",type:ne,children:"Submit"})]})})},V=(n(123),function(){return Object(g.jsxs)(i.a,{children:[Object(g.jsx)(o.a,{bg:"primary",variant:"dark",children:Object(g.jsxs)(l.a,{children:[Object(g.jsx)(o.a.Brand,{as:i.b,to:"/home",children:"RC4 Welfare Bot"}),Object(g.jsxs)(j.a,{className:"me-auto",children:[Object(g.jsx)(j.a.Link,{as:i.b,to:"/events",children:"Events"}),Object(g.jsx)(j.a.Link,{as:i.b,to:"/feedbacks",children:"Feedbacks"}),Object(g.jsx)(j.a.Link,{as:i.b,to:"/users",children:"Users"})]})]})}),Object(g.jsx)(l.a,{children:Object(g.jsxs)(d.c,{children:[Object(g.jsx)(d.a,{path:"/home",component:P}),Object(g.jsx)(d.a,{path:"/events",component:R}),Object(g.jsx)(d.a,{path:"/feedbacks",component:H}),Object(g.jsx)(d.a,{path:"/users",component:U}),Object(g.jsx)(d.a,{path:"/add-event",component:Y})]})})]})}),J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,141)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))},z=(n(124),n(125),function(){var e=c.a.useState(!1),t=Object(b.a)(e,2),n=t[0],a=t[1],s=c.a.useState(""),r=Object(b.a)(s,2),o=r[0],j=r[1];return Object(g.jsxs)("div",{children:[!n&&Object(g.jsx)(l.a,{className:"login",children:Object(g.jsxs)(T.a,{onSubmit:function(e){"admin"===e.target.username.value&&"rc4we1fare"===e.target.password.value?a(!0):(j("Access denied."),e.preventDefault(),e.target.reset())},children:[Object(g.jsx)("h2",{children:"Welcome to RC4 Welfare Bot"}),Object(g.jsxs)(T.a.Group,{className:"mb-3",controlId:"username",children:[Object(g.jsx)(T.a.Label,{children:"Username"}),Object(g.jsx)(T.a.Control,{type:"username"})]}),Object(g.jsxs)(T.a.Group,{className:"mb-3",controlId:"password",children:[Object(g.jsx)(T.a.Label,{children:"Password"}),Object(g.jsx)(T.a.Control,{type:"password"})]}),o&&Object(g.jsxs)(D.a,{variant:"danger",children:[" ",o]}),Object(g.jsx)(h.a,{variant:"primary",type:"submit",children:"Submit"})]})}),n&&Object(g.jsx)(V,{})]})});r.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(z,{})}),document.getElementById("root")),J()},92:function(e,t,n){}},[[126,1,2]]]);
//# sourceMappingURL=main.8aaf68ee.chunk.js.map